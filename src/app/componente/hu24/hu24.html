<div class="hu24-container">
  <h1 class="hu24-titulo">⭐ Listado de Calificaciones por Artista</h1>

  <mat-card class="hu24-card">
    <mat-card-content>
      <form [formGroup]="calificacionForm" (ngSubmit)="listarCalificaciones()" class="hu24-form">

        <!-- Texto + Selector -->
        <div class="hu24-selector-group">
          <span class="hu24-texto-guia">Elige un artista para ver sus calificaciones:</span>

          <mat-form-field appearance="outline" class="hu24-form-field">
            <mat-label>Artista</mat-label>
            <mat-select formControlName="artista" required>
              @for (a of listaA; track a.idA) {
                <mat-option [value]="a.idA">
                  {{ a.nombreArtista }}
                </mat-option>
              }
            </mat-select>
          </mat-form-field>
        </div>

        <!-- Botón -->
        <div class="hu24-boton-contenedor">
          <button mat-raised-button type="submit" class="action-button register">
            <span class="register-text">Listar Calificaciones</span>
          </button>
        </div>

        <!-- Listado en tarjetas -->
        <div *ngIf="dataSource.data.length > 0; else noData" class="hu24-tarjetas-container">
          <div *ngFor="let calificacion of dataSource.data" class="hu24-tarjeta-calificacion">
            <h3 class="hu24-titulo-tarjeta">Organizador: {{ calificacion.nombreOrganizador }}</h3>
            <p class="hu24-contenido-tarjeta">Comentario: {{ calificacion.comentario }}</p>
            <p class="hu24-contenido-tarjeta">Valoración: {{ calificacion.valoracion }}/10</p>
          </div>
        </div>

        <!-- No hay calificaciones -->
        <ng-template #noData>
          <p class="hu24-mensaje-vacio">No se encontraron calificaciones para este artista.</p>
        </ng-template>

      </form>
    </mat-card-content>
  </mat-card>
</div>
